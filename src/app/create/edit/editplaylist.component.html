<div *ngIf="!_isEditing">
    <ul class="playlist-selection" *ngIf='_storage.getValue("_playlists") && _storage.getValue("_playlists").length'>
        <li *ngFor='let pList of _storage.getValue("_playlists")'>
            {{ pList.name }}
            <img class='icon icon-sml' id='edit-button' src="app/assets/playlist/edit.png" (click)='editClicked(pList)'/>
            <img class='icon icon-sml' id='delete-playlist-button' src="app/assets/playlist/delete_song_black.png" (click)='deletePlaylist(pList)'/>
        </li>
    </ul>
</div>

<div *ngIf="_isEditing">
    <div id="playlist-detail-container" *ngIf='this._userSongs && this._userSongs.length && this._playlist'>
        <div id="left-info">
            <img [src]="getFirstImage()"/>
            <div id="detail-wrapper">
                <h3>{{ this._playlist.name }}</h3>
                <p>Length: {{ this._userSongs.length}}</p>
                <p>Duration: 'coming soon!'</p>
                <p>Rating: 'coming soon!'</p>
            </div>
        </div>
        <div class="playlist-container">
            <h3 style="text-align: center" *ngIf='this._playlist'> {{ this._playlist.name }} </h3>
            <ol class='current-playlist current-playlist-white' *ngIf='_userSongs && _userSongs.length'>
                <li *ngFor="let song of _userSongs; let i=index">
                    <img id="playlist-img" [src]="getUrlImage(song.url)"/>
                    {{ song.name }}
                    <img class='icon icon-sml' id='delete-button' src="app/assets/playlist/delete_song.png" (click)='deleteSong(song, i)'/>
                </li>
            </ol>
        </div>
    </div>

    <div class="extra-playlist" id='all-playlist-detail-container'>
       <div class="tab">
            <button class="tablinks" (click)="openTab('songs')">Songs</button>
            <button class="tablinks" (click)="openTab('artists')">Artists</button>
            <button class="tablinks" (click)="openTab('albums')">Albums</button>
            <button class="tablinks" (click)="openTab('playlists')">Other Playlists</button>
        </div> 
        <div id="songs" class="tabcontent" *ngIf='this._tabInView === "songs"'>
            <ul class="playlist-selection" id='songs-tab-list'>
                <li *ngFor="let song of _songs | async">
                    <img [src]="getUrlImage(song.url)"/>
                    {{ song.name }}
                    <img class='icon icon-sml' id='add-button' src="app/assets/playlist/add_playlist_2.png" (click)='addSong(song)'/>
                </li>
            </ul>
        </div>

        <div id="artists" class="tabcontent" *ngIf='this._tabInView === "artists"'>
            <ul class="playlist-selection" id='artists-tab-list'>
                <li *ngFor="let artist of _artists | async">
                    {{ artist.name }}
                </li>
            </ul>
        </div>

        <div id="albums" class="tabcontent" *ngIf='this._tabInView === "albums"'>
            <ul class="playlist-selection" id='albums-tab-list'>
                <li *ngFor="let album of _albums | async">
                    {{ album.name }}
                    <ul class="playlist-selection" id='alumb-songs' *ngIf='album.song && album.song.length'>
                        <li *ngFor="let song of album.song; let i = index">
                            <img [src]="getUrlImage(song.url)"/>
                            {{ song.name }}
                            <img class='icon icon-sml' id='add-button' src="app/assets/playlist/add_playlist_2.png" (click)='addSong(song)'/>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>

        <div id="playlists" class="tabcontent" *ngIf='this._tabInView === "playlists"'>
            <ul class="playlist-selection" id='playlists-tab-list'>
                <li *ngFor="let playlist of _otherPlaylists | async">
                    {{ playlist.name }}
                </li>
            </ul>
        </div>
    </div>
     <div>
        <img class='icon icon-sml' id='back-button' src="app/assets/shared/back_button.png" (click)='backClicked()'/>
    </div>
</div>